<ng-container *ngIf="!isLoading ; else loadingTemplate">
  <h4>Prices grouped by day</h4>
  <mat-tab-group>
    <mat-tab label="Chart">
      <wah-charts-data-sets
              storageName="item-price-daily-history-chart"
              [datasets]="dateData">
      </wah-charts-data-sets>
    </mat-tab>
    <mat-tab label="Table">
      <wah-data-table
              [columns]="groupedByDateTable.columns"
              [data]="groupedByDateTable.data">
      </wah-data-table>
    </mat-tab>
  </mat-tab-group>

  <h4>Prices grouped by hour</h4>
  <mat-tab-group>
    <mat-tab label="Chart">
      <wah-charts-data-sets
              storageName="item-price-history-chart"
              [datasets]="fourteenDayHourByHour">
      </wah-charts-data-sets>
    </mat-tab>
    <mat-tab label="Table">
      <wah-data-table
              [columns]="fourteenDayByHourTable.columns"
              [data]="fourteenDayByHourTable.data">
      </wah-data-table>
    </mat-tab>
  </mat-tab-group>
</ng-container>

<ng-template #loadingTemplate>
  <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
  Loading historical price data
</ng-template>